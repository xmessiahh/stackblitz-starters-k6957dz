<!DOCTYPE htmal>
<html>

<head>
   <title>Viviant Vintage</title>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width" />
    <link rel="icon" href="/Images/favicon.ico">
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
</head>

<body>
   <nav>
      <a href="/">Home</a>
      <a href="/FPG.html">Found Store</a>
      <a href="/VVPG.html">Viviant Vintage</a>
      <a href="/GDPG.html"aria-current="page">Contact Me</a>
      <a href="contact-me.html">Garment District</a>
    </nav>
    <main>
      <div class="heading"><h1>Contact Me</h1></div> 
    </main>

    <table id="table">
      <thead>
        <tr>
          <td><b>Store Name</b></td>
          <td><b>Price</b></td>
          <td><b>Stars</b></td>
        </tr>
      </thead>
      <tbody></tbody>    
  </table>
  <div>
      <select id="stores" onchange="makeTable()"></select>
  </div>

  <form class="form">
      <label>
          Name: <input type="text" required>  
      </label>

      <label>  
          Email: <input type="email" name="email" id="email">
      </label>

      <label>
          Opt in for emails about new stores! <input type="checkbox"/>  
      </label>  

      <label>
          Allow us to take your information illegally! <input type="radio">
      </label>

      <label>
          Submission: <textarea rows="3"></textarea>  
      </label>
      <input type="submit" onclick="formsubmission()" />
  </form>

  <script>
      const storeNames = ["all", "Viviant Vintage", "Found Store", "Garment District"];
      const select = document.getElementById("stores");
      storeNames.forEach((type) => {
          const option = document.createElement("option");
          option.value = type;
          option.text = type;
          select.appendChild(option);
      });

      const store = [
          { name: "Found Store", price: "$$$$$", rating: "4" },
          { name: "Garment District", price: "$$", rating: "3.5" },
          { name: "Viviant Vintage", price: "$$$$", rating: "4.5" },
      ];

      const writeTableRow = (table, store) => {
          const newRow = table.insertRow();
          newRow.innerHTML = `
              <td>${store.name}</td>
              <td>${store.price}</td>
              <td>${store.rating}</td>
          `;
      };

      const makeTable = () => {
          const tableBody = document.getElementsByTagName("tbody")[0];
          tableBody.innerHTML = "";
          if (select.value === "all") {
              store.forEach((row) => writeTableRow(tableBody, row));
          } else {
              const filtered = store.filter((r) => r.name === select.value);
              filtered.forEach((r) => writeTableRow(tableBody, r));
          }
      };

      makeTable();

      function formsubmission() {
          alert("Form submitted successfully!");
      }
  </script>